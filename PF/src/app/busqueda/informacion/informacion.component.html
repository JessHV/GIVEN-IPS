<div class="container mt-5">
    <div class="my-container">
        <div class="navbar-start filter">
            <p class="control has-icons-left">
                <input 
                    [(ngModel)]="busqueda"
                    (keyup)="onSearchAnticoncepcion(busqueda)" 
                    placeholder="Buscar" 
                    class="input filter-input">
                <span class="icon is-left">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </span>
            </p>
        </div>
        <button class="button is-link is-light" (click)="prevPage()"
        [disabled]="page == 0">
            <span class="icon"><i class="fas fa-chevron-left"></i></span>
        </button>
        <button class="button is-link is-light" (click)="nextPage()" 
        [disabled]="(AnticoncepcionList | filtro:page:search).length < 15">
            <span class="icon"><i class="fas fa-chevron-right"></i></span>
        </button>
    </div>

    <!-- START -->
    <div class="more-filters">
        <input [(ngModel)]="more" (click)="changeMore()" type="checkbox" name="advance" id="advance"><label for="advance" class="more-text">Mostrar filtros</label>
    </div>

    <table *ngIf="more == true" class="filtros-tabla">
        <thead>
            <tr>
                <th> </th>
                <th>
                    <select name="mes" id="mes" [(ngModel)]="mes" (change)="onSearchMes(mes)">
                        <option value="" [selected]="(departamento != '' || provincia != '' || distrito != '' || edad != '' || metodo != '')">Mes</option>
                        <option value="Enero">Enero</option>
                        <option value="Febrero">Febrero</option>
                        <option value="Marzo">Marzo</option>
                        <option value="Abril">Abril</option>
                        <option value="Mayo">Mayo</option>
                        <option value="Junio">Junio</option>
                        <option value="Julio">Julio</option>
                        <option value="Agosto">Agosto</option>
                        <option value="Septiembre">Septiembre</option>
                        <option value="Octubre">Octubre</option>
                        <option value="Noviembre">Noviembre</option>
                        <option value="Diciembre">Diciembre</option>
                    </select>
                </th>
                <th>
                    <input 
                    [(ngModel)]="departamento"
                    (keyup)="onSearchDepartamento(departamento)" 
                    placeholder="Departamento" 
                    class="input">
                </th>
                <th>
                    <input 
                    [(ngModel)]="provincia"
                    (keyup)="onSearchProvincia(provincia)" 
                    placeholder="Provincia" 
                    class="input">
                </th>
                <th>
                    <input 
                    [(ngModel)]="distrito"
                    (keyup)="onSearchDistrito(distrito)" 
                    placeholder="Distrito" 
                    class="input">
                </th>
                <th>
                    <select name="edad" id="edad" [(ngModel)]="edad" (change)="onSearchEdad(edad)">
                        <option value="" [selected]="(departamento != '' || provincia != '' || distrito != '' || mes != '' || metodo != '')">Edad</option>
                        <option value="12-17">12 - 17</option>
                        <option value="18-29">18 - 29</option>
                        <option value="30-59">30 - 59</option>
                    </select>
                </th>
                <th>
                    <select name="metodo" id="metodo" [(ngModel)]="metodo" (change)="onSearchMetodo(metodo)">
                        <option value="" [selected]="(departamento != '' || provincia != '' || distrito != '' || edad != '' || mes != '')">Método</option>
                        <option value="YUZPE">Yuzpe</option>
                        <option value="PROGESTAGENO">Progestageno</option>
                    </select>
                </th>
            </tr>
        </thead>
    </table>

    <!-- END -->
    <table class="table is-bordered is-hoverable" *ngIf="(AnticoncepcionList | filtro:page:search:option).length > 0">
        <thead>
            <tr>
                <th>#</th>
                <th>Mes</th>
                <th>Departamento</th>
                <th>Provincia</th>
                <th>Distrito</th>
                <th>Edad</th>
                <th>Método</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let dataItem of AnticoncepcionList | filtro:page:search:option">
                <td>{{dataItem.Id}}</td>
                <td>{{dataItem.Mes}}</td>
                <td class="text">{{dataItem.Departamento.toLowerCase()}}</td>
                <td class="text">{{dataItem.Provincia.toLowerCase()}}</td>
                <td class="text">{{dataItem.Distrito.toLowerCase()}}</td>
                <td>{{dataItem.Inicio}} - {{dataItem.Fin}}</td>
                <td class="text">{{dataItem.Metodo.toLowerCase()}}</td>
            </tr>
        </tbody>
    </table>

    <p *ngIf="(AnticoncepcionList | filtro:page:search:option).length == 0" class="sin-resultados">No se encontraron resultados</p>
    
</div>